<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EngineerConnect - Dark Theme</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base Styles */
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --primary-gradient: linear-gradient(135deg, #8b5cf6, #ec4899);
            --border-color: rgba(255, 255, 255, 0.1);
            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 16px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding-top: 80px; /* Space for fixed header */
            padding-bottom: 70px; /* Space for fixed nav on mobile */
        }

        /* Header Styles */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-buttons {
            display: flex;
            gap: 0.75rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
            text-align: center;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Home Section */
        .hero {
            text-align: center;
            padding: 2rem 1rem;
            background: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            margin-bottom: 2rem;
        }

        .hero h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .hero p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .user-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .user-card {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            padding: 2rem 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .user-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        }

        .user-card i {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .user-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .user-card p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        /* Branch Selection */
        .branch-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .branch-card {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            padding: 1.5rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .branch-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .branch-card i {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: #8b5cf6;
        }

        .branch-card h4 {
            font-size: 1rem;
            font-weight: 600;
        }

        /* Feed Styles */
        .feed-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 1.5rem;
        }

        .sidebar {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            height: fit-content;
        }

        .sidebar h3 {
            margin-bottom: 1rem;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .filter-btn {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: rgba(139, 92, 246, 0.15);
            color: #c7d2fe;
            border-color: #818cf8;
        }

        .feed {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .search-bar {
            flex: 1;
            max-width: 400px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .search-bar i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn-sm {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.85rem;
        }

        .filter-btn-sm.active {
            background: var(--primary-gradient);
            color: white;
            border-color: transparent;
        }

        /* Story Card */
        .story-card {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .story-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .story-header {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .company-profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }

        .story-info h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .meta {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .story-content {
            padding: 1rem;
        }

        .story-content h3 {
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
        }

        .story-content p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .tag {
            background: rgba(139, 92, 246, 0.2);
            color: #c4b5fd;
            padding: 0.25rem 0.75rem;
            border-radius: var(--border-radius-sm);
            font-size: 0.8rem;
        }

        .story-stats {
            display: flex;
            justify-content: space-between;
            padding: 0 1rem 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .video-container {
            position: relative;
            width: 100%;
            background: #000;
        }

        .problem-video {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .video-overlay {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: white;
            padding: 1rem;
            border-radius: var(--border-radius-md);
        }

        /* Action Buttons */
        .story-actions {
            display: flex;
            justify-content: space-between;
            padding: 0 1rem 1rem;
            gap: 0.75rem;
        }

        .action-group {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.75rem;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .action-btn:hover {
            background: var(--bg-tertiary);
        }

        .fire-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
        }

        .fire-btn:hover {
            opacity: 0.9;
        }

        /* Leaderboard */
        .leaderboard-container {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid var(--border-color);
        }

        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border: none;
            border-radius: var(--border-radius-sm);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .tab-btn.active {
            background: var(--primary-gradient);
            color: white;
        }

        .leaderboard-list {
            display: grid;
            gap: 1rem;
        }

        .leaderboard-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: rgba(30, 41, 59, 0.5);
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--border-color);
        }

        .rank {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
            font-size: 0.9rem;
        }

        .leader-info {
            flex: 1;
        }

        .leader-info h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .leader-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .leader-stats {
            text-align: right;
        }

        .leader-stats .score {
            font-weight: bold;
            font-size: 1.25rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .leader-stats .problems {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Company Dashboard */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .dashboard-header h2 {
            margin: 0;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .dashboard-card {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            padding: 1.5rem;
            border: 1px solid var(--border-color);
        }

        .dashboard-card h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .dashboard-card h3 i {
            color: #8b5cf6;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0.5rem 0;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Problem Form */
        .problem-form {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            padding: 1.5rem;
            margin-top: 1.5rem;
            border: 1px solid var(--border-color);
            display: none;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(6px);
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border-color);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h2 {
            font-size: 1.25rem;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .modal-body {
            padding: 1.5rem;
        }

        /* Back Button */
        .back-btn-container {
            position: fixed;
            top: 90px;
            left: 1rem;
            z-index: 999;
        }

        .back-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .back-btn:hover {
            background: var(--bg-tertiary);
        }

        /* Footer Navigation (Mobile) */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-around;
            padding: 0.75rem 0;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.75rem;
            transition: var(--transition);
        }

        .nav-item.active, .nav-item:hover {
            color: #8b5cf6;
        }

        .nav-item i {
            font-size: 1.25rem;
        }

        /* Quiz Modal */
        .quiz-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(6px);
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .quiz-modal.active {
            display: flex;
        }

        .quiz-content {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            padding: 2.5rem;
            max-width: 650px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35);
            border: 1px solid var(--border-color);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .quiz-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .quiz-header p {
            color: var(--text-secondary);
        }

        .quiz-progress {
            width: 100%;
            height: 10px;
            background: var(--bg-tertiary);
            border-radius: 10px;
            overflow: hidden;
        }

        .quiz-progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            transition: width 0.3s ease;
        }

        .quiz-container {
            margin-top: 2rem;
        }

        .quiz-question {
            margin-bottom: 1.5rem;
        }

        .quiz-options {
            display: grid;
            gap: 0.75rem;
        }

        .option-btn {
            padding: 0.75rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .option-btn.selected {
            background: var(--primary-gradient);
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .quiz-result {
            text-align: center;
            margin-top: 2rem;
        }

        .score-circle {
            font-size: 2rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .result-message {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .result-details {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .feed-container {
                grid-template-columns: 250px 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0.75rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .hero h1 {
                font-size: 1.75rem;
            }
            
            .user-cards {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .branch-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .feed-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
                margin-bottom: 2rem;
            }
            
            .feed-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-bar {
                max-width: 100%;
            }
            
            .filter-buttons {
                justify-content: center;
            }
            
            .story-content h3 {
                font-size: 1.1rem;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                margin: 1rem;
            }
            
            .dashboard-header {
                flex-direction: column;
                justify-content: center;
            }
            
            .back-btn-container {
                top: 75px;
                left: 0.5rem;
            }
            
            .back-btn {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 0.75rem;
            }
            
            .logo {
                font-size: 1.25rem;
            }
            
            .nav-buttons {
                flex-direction: row;
                gap: 0.75rem;
            }
            
            .btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.8rem;
            }
            
            .hero {
                padding: 1.5rem 1rem;
            }
            
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .branch-grid {
                grid-template-columns: 1fr;
            }
            
            .story-header {
                padding: 0.75rem;
            }
            
            .story-content {
                padding: 0.75rem;
            }
            
            .story-stats, .story-actions {
                padding: 0 0.75rem 0.75rem;
            }
            
            .action-btn {
                padding: 0.5rem;
                font-size: 0.8rem;
            }
            
            .tabs {
                justify-content: center;
            }
            
            .tab-btn {
                padding: 0.4rem 0.75rem;
                font-size: 0.8rem;
            }
            
            .problem-video {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">EngineerConnect</div>
        <div class="nav-buttons">
            <button class="btn btn-secondary" onclick="showLogin()">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
        </div>
    </header>

    <!-- Back Button -->
    <div class="back-btn-container" id="back-btn-container" style="display: none;">
        <button class="back-btn" onclick="goBack()">
            <i class="fas fa-arrow-left"></i> Back
        </button>
    </div>

    <!-- Home Section -->
    <section id="home-section" class="section active">
        <div class="container">
            <div class="hero">
                <h1>Connect. Innovate. Solve.</h1>
                <p>Bridge the gap between engineering students and industry challenges</p>
                <button class="btn btn-primary" onclick="showLogin()">
                    <i class="fas fa-rocket"></i> Get Started
                </button>
            </div>

            <h2 class="section-title">Who are you?</h2>
            <div class="user-cards">
                <div class="user-card" onclick="selectUserType('student')">
                    <i class="fas fa-user-graduate"></i>
                    <h3>Engineering Student</h3>
                    <p>Find challenging projects, submit innovative solutions, and build your professional portfolio.</p>
                    <button class="btn btn-primary">I'm a Student</button>
                </div>
                <div class="user-card" onclick="selectUserType('company')">
                    <i class="fas fa-building"></i>
                    <h3>Engineering Company</h3>
                    <p>Post real-world problems, discover talented students, and find innovative solutions.</p>
                    <button class="btn btn-primary">I'm a Company</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Branch Selection Section -->
    <section id="branch-section" class="section">
        <div class="container">
            <h2 class="section-title">Select Your Engineering Branch</h2>
            <div class="branch-grid">
                <div class="branch-card" onclick="selectBranchAndContinue('computer')">
                    <i class="fas fa-laptop-code"></i>
                    <h4>💻 Computer Science</h4>
                    <p>AI, Software Development, Cybersecurity, Data Science</p>
                </div>
                <div class="branch-card" onclick="selectBranchAndContinue('mechanical')">
                    <i class="fas fa-cogs"></i>
                    <h4>⚙️ Mechanical Engineering</h4>
                    <p>Design, Manufacturing, Robotics, Automotive</p>
                </div>
                <div class="branch-card" onclick="selectBranchAndContinue('electrical')">
                    <i class="fas fa-bolt"></i>
                    <h4>⚡ Electrical Engineering</h4>
                    <p>Electronics, Power Systems, IoT, Renewable Energy</p>
                </div>
                <div class="branch-card" onclick="selectBranchAndContinue('civil')">
                    <i class="fas fa-bridge"></i>
                    <h4>🏗️ Civil Engineering</h4>
                    <p>Structures, Transportation, Geotechnical, Water Resources</p>
                </div>
                <div class="branch-card" onclick="selectBranchAndContinue('chemical')">
                    <i class="fas fa-flask"></i>
                    <h4>⚗️ Chemical Engineering</h4>
                    <p>Process Design, Materials, Biotechnology, Environmental</p>
                </div>
                <div class="branch-card" onclick="selectBranchAndContinue('aerospace')">
                    <i class="fas fa-plane"></i>
                    <h4>✈️ Aerospace Engineering</h4>
                    <p>Aerodynamics, Propulsion, Structures, Space Systems</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Student Feed Section -->
    <section id="student-feed" class="section">
        <div class="container">
            <div class="feed-container">
                <div class="sidebar">
                    <h3><i class="fas fa-filter"></i> Filters</h3>
                    <button class="filter-btn active" onclick="filterProblems('all')">All Problems</button>
                    <button class="filter-btn" onclick="filterProblems('beginner')">Beginner</button>
                    <button class="filter-btn" onclick="filterProblems('intermediate')">Intermediate</button>
                    <button class="filter-btn" onclick="filterProblems('advanced')">Advanced</button>
                    <button class="filter-btn" onclick="filterProblems('computer')">Computer Science</button>
                    <button class="filter-btn" onclick="filterProblems('electrical')">Electrical</button>
                    <button class="filter-btn" onclick="filterProblems('mechanical')">Mechanical</button>
                    <button class="filter-btn" onclick="filterProblems('civil')">Civil</button>
                    <button class="filter-btn" onclick="filterProblems('chemical')">Chemical</button>
                    <button class="filter-btn" onclick="filterProblems('aerospace')">Aerospace</button>
                </div>
                
                <div class="feed">
                    <div class="feed-header">
                        <div class="search-bar">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search problems...">
                        </div>
                        <div class="filter-buttons">
                            <button class="filter-btn-sm active" onclick="filterProblems('all')">All</button>
                            <button class="filter-btn-sm" onclick="filterProblems('beginner')">Beginner</button>
                            <button class="filter-btn-sm" onclick="filterProblems('intermediate')">Intermediate</button>
                            <button class="filter-btn-sm" onclick="filterProblems('advanced')">Advanced</button>
                        </div>
                    </div>

                    <div id="problems-feed">
                        <!-- Problems will be loaded here dynamically -->
                    </div>
                </div>
            </div>

            <div class="leaderboard-container">
                <h3>Top Contributors</h3>
                <div class="tabs">
                    <button class="tab-btn active" onclick="showLeaderboard('all')">All Branches</button>
                    <button class="tab-btn" onclick="showLeaderboard('computer')">Computer</button>
                    <button class="tab-btn" onclick="showLeaderboard('electrical')">Electrical</button>
                    <button class="tab-btn" onclick="showLeaderboard('mechanical')">Mechanical</button>
                </div>
                <div class="leaderboard-list" id="leaderboard-list">
                    <!-- Leaderboard items will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Company Dashboard Section -->
    <section id="company-dashboard" class="section">
        <div class="container">
            <div class="dashboard-header">
                <h2 class="section-title">Company Dashboard</h2>
                <button class="btn btn-primary" onclick="showPostForm()">
                    <i class="fas fa-plus"></i> Post New Problem
                </button>
            </div>
            
            <div class="problem-form" id="problem-form">
                <h3><i class="fas fa-edit"></i> Post a New Engineering Problem</h3>
                <form id="post-problem-form">
                    <div class="form-group">
                        <label for="problem-title">Problem Title</label>
                        <input type="text" id="problem-title" required placeholder="e.g., Design a Smart Traffic Management System">
                    </div>
                    <div class="form-group">
                        <label for="problem-description">Description</label>
                        <textarea id="problem-description" placeholder="Describe the engineering challenge in detail..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="problem-branch">Engineering Branch</label>
                        <select id="problem-branch" required>
                            <option value="">Select Branch</option>
                            <option value="computer">Computer Science</option>
                            <option value="electrical">Electrical</option>
                            <option value="mechanical">Mechanical</option>
                            <option value="civil">Civil</option>
                            <option value="chemical">Chemical</option>
                            <option value="aerospace">Aerospace</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="problem-difficulty">Difficulty Level</label>
                        <select id="problem-difficulty" required>
                            <option value="">Select Difficulty</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="problem-tags">Tags (comma separated)</label>
                        <input type="text" id="problem-tags" placeholder="e.g., AI, IoT, Sustainability">
                    </div>
                    <div class="form-group">
                        <label for="problem-video">Video URL (optional)</label>
                        <input type="url" id="problem-video" placeholder="https://example.com/video.mp4">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-paper-plane"></i> Post Problem
                    </button>
                </form>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3><i class="fas fa-chart-line"></i> Performance Overview</h3>
                    <div class="stat-number">24</div>
                    <div class="stat-label">Active Problems</div>
                </div>
                <div class="dashboard-card">
                    <h3><i class="fas fa-lightbulb"></i> Solutions Received</h3>
                    <div class="stat-number">142</div>
                    <div class="stat-label">Total Submissions</div>
                </div>
                <div class="dashboard-card">
                    <h3><i class="fas fa-users"></i> Student Engagement</h3>
                    <div class="stat-number">89</div>
                    <div class="stat-label">Active Students</div>
                </div>
            </div>

            <div class="dashboard-card" style="margin-top: 1.5rem;">
                <h3><i class="fas fa-tasks"></i> Your Posted Problems</h3>
                <div id="company-problems">
                    <!-- Company problems will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Submit Idea Modal -->
    <div class="modal" id="idea-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Submit Your Solution</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="idea-form">
                    <div class="form-group">
                        <label for="student-name">Your Name</label>
                        <input type="text" id="student-name" required>
                    </div>
                    <div class="form-group">
                        <label for="student-university">University</label>
                        <input type="text" id="student-university" required>
                    </div>
                    <div class="form-group">
                        <label for="student-idea">Your Innovative Idea</label>
                        <textarea id="student-idea" placeholder="Describe your innovative solution to this engineering challenge..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="implementation-approach">Implementation Approach</label>
                        <textarea id="implementation-approach" placeholder="Explain your approach and methodology for implementing this solution..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-paper-plane"></i> Submit Solution
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div class="quiz-modal" id="quiz-modal">
        <div class="quiz-content">
            <div class="quiz-header">
                <h3>Engineering Challenge Quiz</h3>
                <p>Test your knowledge related to this problem</p>
                <div class="quiz-progress">
                    <div class="quiz-progress-bar" id="quiz-progress" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="quiz-container">
                <div class="quiz-question">
                    <h4 id="question-text">Loading question...</h4>
                </div>
                
                <div class="quiz-options" id="quiz-options">
                    <!-- Options will be loaded here -->
                </div>
                
                <div class="quiz-controls">
                    <button class="btn btn-outline" id="prev-btn" onclick="prevQuestion()" style="display: none;">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="next-btn" onclick="checkAnswer()" style="margin-left: auto;">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="quiz-result" id="quiz-result" style="display: none;">
                <div class="score-circle" id="score-display">0%</div>
                <div class="result-message" id="result-message">Keep Learning!</div>
                <div class="result-details" id="result-details">You answered 0 out of 0 questions correctly.</div>
                <button class="btn btn-primary" onclick="closeQuiz()">
                    Continue to Dashboard
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
        <a href="#" class="nav-item" onclick="showHomeNav()">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="#" class="nav-item" onclick="showFeedNav()">
            <i class="fas fa-th-large"></i>
            <span>Feed</span>
        </a>
        <a href="#" class="nav-item" onclick="showLeaderboardNav('all')">
            <i class="fas fa-trophy"></i>
            <span>Leaderboard</span>
        </a>
        <a href="#" class="nav-item" onclick="showProfileNav()">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </a>
    </nav>

    <script>
        // Global variables
        let currentUserType = null;
        let selectedBranch = null;
        let currentProblemId = null;
        let currentFilter = 'all';
        
        // Quiz variables
        let currentQuiz = [];
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let selectedOptionIndex = null;
        
        // Sample data
        const problems = [
            {
                id: 1,
                company: 'TechNova Solutions',
                branch: 'computer',
                title: 'AI-Powered Customer Support Chatbot',
                description: 'Design an intelligent chatbot that can understand and respond to complex customer queries in real-time, reducing human agent workload by 70%.',
                videoUrl: 'https://www.w3schools.com/html/movie.mp4',
                difficulty: 'intermediate',
                tags: ['Artificial Intelligence', 'NLP', 'Customer Service'],
                posted: '2 days ago',
                views: '1.2K',
                ideas: [
                    {studentName: "Alex Johnson", university: "MIT", idea: "Use transformer models with fine-tuning on domain-specific data", implementation: "Implement a hybrid approach combining rule-based and ML methods"}
                ]
            },
            {
                id: 2,
                company: 'EcoPower Industries',
                branch: 'electrical',
                title: 'Smart Energy Management System',
                description: 'Create a system that optimizes energy consumption in commercial buildings using IoT sensors and predictive analytics.',
                videoUrl: 'https://www.w3schools.com/html/mov_bbb.mp4',
                difficulty: 'advanced',
                tags: ['IoT', 'Energy Efficiency', 'Predictive Analytics'],
                posted: '1 week ago',
                views: '3.4K',
                ideas: []
            },
            {
                id: 3,
                company: 'AutoForge Dynamics',
                branch: 'mechanical',
                title: 'Lightweight Automotive Chassis',
                description: 'Design a new chassis structure that reduces vehicle weight by 15% while maintaining safety standards.',
                videoUrl: 'https://www.w3schools.com/html/movie.mp4',
                difficulty: 'intermediate',
                tags: ['Materials Engineering', 'Structural Analysis', 'CAD'],
                posted: '3 days ago',
                views: '2.1K',
                ideas: []
            },
            {
                id: 4,
                company: 'ConstructWell Inc',
                branch: 'civil',
                title: 'Sustainable Urban Drainage System',
                description: 'Design a drainage system that manages stormwater runoff in urban areas while minimizing environmental impact.',
                videoUrl: 'https://www.w3schools.com/html/mov_bbb.mp4',
                difficulty: 'beginner',
                tags: ['Hydrology', 'Sustainability', 'Urban Planning'],
                posted: '5 days ago',
                views: '0.8K',
                ideas: []
            },
            {
                id: 5,
                company: 'BioChem Labs',
                branch: 'chemical',
                title: 'Biodegradable Plastic Alternative',
                description: 'Develop a new biodegradable material that can replace conventional plastics in packaging applications.',
                videoUrl: 'https://www.w3schools.com/html/movie.mp4',
                difficulty: 'advanced',
                tags: ['Materials Science', 'Biotechnology', 'Environmental Chemistry'],
                posted: '1 day ago',
                views: '0.5K',
                ideas: []
            },
            {
                id: 6,
                company: 'SkyTech Aerospace',
                branch: 'aerospace',
                title: 'Fuel-Efficient Aircraft Wing Design',
                description: 'Optimize wing design for commercial aircraft to reduce fuel consumption by 10% without compromising performance.',
                videoUrl: 'https://www.w3schools.com/html/mov_bbb.mp4',
                difficulty: 'advanced',
                tags: ['Aerodynamics', 'Structural Design', 'CFD'],
                posted: 'just now',
                views: '0.2K',
                ideas: []
            }
        ];

        const leaderboardData = [
            { name: "Alex Johnson", university: "MIT", branch: "computer", score: 95, problemsSolved: 12 },
            { name: "Priya Sharma", university: "IIT Bombay", branch: "electrical", score: 92, problemsSolved: 10 },
            { name: "Michael Chen", university: "Stanford", branch: "mechanical", score: 88, problemsSolved: 8 },
            { name: "Sarah Williams", university: "Caltech", branch: "computer", score: 87, problemsSolved: 9 },
            { name: "David Kim", university: "UC Berkeley", branch: "civil", score: 85, problemsSolved: 7 }
        ];

        const quizzes = {
            computer: [
                {
                    question: "Which machine learning algorithm is most suitable for natural language processing tasks like chatbot responses?",
                    options: ["Linear Regression", "K-Means Clustering", "Transformer Models", "Decision Trees"],
                    correct: 2
                },
                {
                    question: "What does API stand for in software development?",
                    options: ["Application Programming Interface", "Automated Program Integration", "Advanced Programming Instruction", "Application Process Integration"],
                    correct: 0
                }
            ],
            electrical: [
                {
                    question: "What is the unit of electrical resistance?",
                    options: ["Henry", "Ohm", "Farad", "Volt"],
                    correct: 1
                },
                {
                    question: "In AC circuits, what causes phase difference?",
                    options: ["Resistance only", "Reactance", "Power factor", "Frequency"],
                    correct: 1
                }
            ],
            mechanical: [
                {
                    question: "What is the primary purpose of a flywheel in an engine?",
                    options: ["To cool the engine", "To store rotational energy", "To reduce friction", "To control emissions"],
                    correct: 1
                },
                {
                    question: "Which type of stress causes a material to twist?",
                    options: ["Tensile stress", "Compressive stress", "Shear stress", "Bending stress"],
                    correct: 2
                }
            ],
            civil: [
                {
                    question: "What is the primary purpose of reinforcement in concrete?",
                    options: ["Increase compressive strength", "Increase tensile strength", "Reduce weight", "Improve aesthetics"],
                    correct: 1
                },
                {
                    question: "What does the term 'foundation' refer to in construction?",
                    options: ["The roof structure", "The upper floors", "The base that transfers loads to the ground", "The exterior walls"],
                    correct: 2
                }
            ],
            chemical: [
                {
                    question: "What is the primary purpose of a distillation column?",
                    options: ["To mix chemicals", "To separate components based on boiling points", "To increase pressure", "To cool reactions"],
                    correct: 1
                },
                {
                    question: "Which law relates the pressure, volume, and temperature of a gas?",
                    options: ["Boyle's Law", "Charles's Law", "Ideal Gas Law", "Dalton's Law"],
                    correct: 2
                }
            ],
            aerospace: [
                {
                    question: "What force opposes the motion of an aircraft through the air?",
                    options: ["Thrust", "Lift", "Weight", "Drag"],
                    correct: 3
                },
                {
                    question: "What does the term 'Mach number' represent?",
                    options: ["Engine power", "Fuel efficiency", "Speed relative to sound", "Altitude"],
                    correct: 2
                }
            ]
        };

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            showHome();
            addSampleIdeas();
        });

        // Navigation functions
        function showHome() {
            hideAllSections();
            document.getElementById('home-section').classList.add('active');
            document.getElementById('back-btn-container').style.display = 'none';
        }

        function showHomeNav() {
            showHome();
            updateActiveNav('home');
        }

        function showLogin() {
            alert('Login functionality would be implemented with backend integration!');
        }

        function hideAllSections() {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
        }

        function selectUserType(type) {
            currentUserType = type;
            hideAllSections();
            
            if (type === 'student') {
                document.getElementById('branch-section').classList.add('active');
                document.getElementById('back-btn-container').style.display = 'block';
            } else if (type === 'company') {
                document.getElementById('company-dashboard').classList.add('active');
                showCompanyDashboard();
                document.getElementById('back-btn-container').style.display = 'block';
            }
        }

        function selectBranchAndContinue(branch) {
            selectedBranch = branch;
            showStudentFeed();
        }

        function showStudentFeed() {
            if (!selectedBranch) {
                alert('Please select your engineering branch first!');
                return;
            }
            hideAllSections();
            document.getElementById('student-feed').classList.add('active');
            document.getElementById('back-btn-container').style.display = 'block';
            loadProblems();
            showLeaderboard('all');
        }

        function showFeedNav() {
            if (currentUserType === 'student') {
                showStudentFeed();
            } else {
                alert('Please select "I\'m a Student" to view the feed');
                showHome();
            }
            updateActiveNav('feed');
        }

        function goBack() {
            if (currentUserType === 'student' && document.getElementById('student-feed').classList.contains('active')) {
                hideAllSections();
                document.getElementById('branch-section').classList.add('active');
            } else if (currentUserType === 'student' && document.getElementById('branch-section').classList.contains('active')) {
                showHome();
            } else if (currentUserType === 'company' && document.getElementById('company-dashboard').classList.contains('active')) {
                showHome();
            } else {
                showHome();
            }
        }

        function showLeaderboardNav(branch) {
            if (currentUserType === 'student') {
                showStudentFeed();
                showLeaderboard(branch);
            } else {
                showHome();
            }
            updateActiveNav('leaderboard');
        }

        function showProfileNav() {
            alert('Profile section would be implemented here');
            updateActiveNav('profile');
        }

        function updateActiveNav(activeItem) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.querySelector('i').className.includes(activeItem)) {
                    item.classList.add('active');
                }
            });
        }

        // Problem functions
        function loadProblems() {
            const feed = document.getElementById('problems-feed');
            let filteredProblems = problems;
            
            if (currentFilter !== 'all') {
                if (['beginner', 'intermediate', 'advanced'].includes(currentFilter)) {
                    filteredProblems = problems.filter(problem => problem.difficulty === currentFilter);
                } else {
                    filteredProblems = problems.filter(problem => problem.branch === currentFilter);
                }
            }
            
            if (filteredProblems.length === 0) {
                feed.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">No problems match your current filters.</p>';
                return;
            }
            
            feed.innerHTML = filteredProblems.map(problem => `
                <div class="story-card">
                    <div class="story-header">
                        <div class="company-profile">${problem.company.charAt(0)}</div>
                        <div class="story-info">
                            <h4>${problem.company}</h4>
                            <div class="meta">
                                <i class="far fa-clock"></i> ${problem.posted}
                                <i class="far fa-eye" style="margin-left: 1rem;"></i> ${problem.views} views
                            </div>
                        </div>
                        <div style="margin-left: auto;">
                            <span style="background: #${problem.difficulty === 'beginner' ? '10b981' : problem.difficulty === 'intermediate' ? 'f59e0b' : 'ef4444'}; color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 500;">
                                ${problem.difficulty}
                            </span>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <video class="problem-video" controls poster="https://via.placeholder.com/600x300/3b82f6/white?text=${encodeURIComponent(problem.title.substring(0, 30))}">
                            <source src="${problem.videoUrl}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    
                    <div class="story-content">
                        <h3 class="story-title">${problem.title}</h3>
                        <p class="story-description">${problem.description}</p>
                        
                        <div class="tags">
                            ${problem.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div class="story-stats">
                        <div>
                            <i class="fas fa-code-branch"></i> ${problem.branch}
                        </div>
                        <div>
                            <i class="fas fa-lightbulb"></i> ${problem.ideas.length} solutions
                        </div>
                    </div>
                    
                    <div class="story-actions">
                        <div class="action-group">
                            <button class="action-btn" onclick="viewSubmittedIdeas(${problem.id})">
                                <i class="fas fa-lightbulb"></i> View Solutions
                            </button>
                            <button class="action-btn" onclick="openQuiz(${problem.id})">
                                <i class="fas fa-graduation-cap"></i> Take Quiz
                            </button>
                        </div>
                        <button class="action-btn fire-btn" onclick="openIdeaModal(${problem.id})">
                            <i class="fas fa-paper-plane"></i> Submit Solution
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function filterProblems(filter) {
            currentFilter = filter;
            
            // Update active filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.filter-btn-sm').forEach(btn => btn.classList.remove('active'));
            
            // Find and activate the clicked button
            const buttons = [...document.querySelectorAll('.filter-btn'), ...document.querySelectorAll('.filter-btn-sm')];
            buttons.forEach(btn => {
                if (btn.textContent.toLowerCase().includes(filter) || 
                    (filter === 'all' && btn.textContent === 'All Problems') ||
                    (filter === 'all' && btn.textContent === 'All')) {
                    btn.classList.add('active');
                }
            });
            
            loadProblems();
        }

        // Leaderboard functions
        function showLeaderboard(branch) {
            const list = document.getElementById('leaderboard-list');
            let filteredLeaderboard = leaderboardData;
            
            if (branch !== 'all') {
                filteredLeaderboard = leaderboardData.filter(student => student.branch === branch);
            }
            
            // Sort by score descending
            filteredLeaderboard.sort((a, b) => b.score - a.score);
            
            list.innerHTML = filteredLeaderboard.map((student, index) => `
                <div class="leaderboard-item">
                    <div class="rank">${index === 0 ? '🥇' : index === 1 ? '🥈' : index === 2 ? '🥉' : index + 1}</div>
                    <div class="leader-info">
                        <div class="leader-name">${student.name}</div>
                        <div class="leader-uni">${student.university} • ${student.branch.toUpperCase()}</div>
                    </div>
                    <div class="leader-score">${student.score}%</div>
                </div>
            `).join('');
        }

        // Company dashboard functions
        function showCompanyDashboard() {
            const companyProblems = document.getElementById('company-problems');
            // Note: This filter assumes the company name is hardcoded as 'Your Company'.
            // In a real app, this would be dynamic based on logged-in user.
            const myProblems = problems.filter(p => p.company === 'Your Company');
            
            if (myProblems.length === 0) {
                companyProblems.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;"><i class="fas fa-inbox" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>No problems posted yet. Create your first challenge above! 🚀</p>';
                return;
            }
            
            companyProblems.innerHTML = myProblems.map(problem => `
                <div style="border: 1px solid var(--border-color); border-radius: var(--border-radius-md); padding: 1.5rem; margin-bottom: 1rem; background: rgba(15, 23, 42, 0.5);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h4 style="font-weight: 600; color: var(--text-primary);">${problem.title}</h4>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0;">${problem.description.substring(0, 100)}...</p>
                            <div style="display: flex; gap: 1rem; color: #a5b4fc; font-size: 0.9rem; margin-top: 0.5rem;">
                                <span><i class="far fa-eye"></i> ${problem.views} views</span>
                                <span><i class="fas fa-lightbulb"></i> ${problem.ideas.length} ideas</span>
                                <span><i class="far fa-clock"></i> ${problem.posted}</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="viewSubmittedIdeas(${problem.id})">
                            <i class="fas fa-eye"></i> View Ideas (${problem.ideas.length})
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function showPostForm() {
            const form = document.getElementById('problem-form');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        // Form submission
        document.getElementById('post-problem-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newProblem = {
                id: problems.length + 1,
                company: 'Your Company', // Would be dynamic in real app
                branch: document.getElementById('problem-branch').value,
                title: document.getElementById('problem-title').value,
                description: document.getElementById('problem-description').value,
                videoUrl: document.getElementById('problem-video').value || 'https://www.w3schools.com/html/mov_bbb.mp4', // Default video
                difficulty: document.getElementById('problem-difficulty').value,
                tags: document.getElementById('problem-tags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                posted: 'just now',
                views: '0',
                ideas: []
            };
            
            problems.push(newProblem);
            
            const successMsg = document.createElement('div');
            successMsg.className = 'success-message';
            successMsg.innerHTML = '<i class="fas fa-check-circle"></i> Problem posted successfully! Students can now see and submit ideas for your challenge.';
            successMsg.style.cssText = `
                background: rgba(16, 185, 129, 0.2);
                color: #6ee7b7;
                padding: 1rem;
                border-radius: var(--border-radius-md);
                margin: 1.25rem 0;
                text-align: center;
                font-weight: 500;
                box-shadow: 0 4px 6px rgba(16, 185, 129, 0.3);
            `;
            document.getElementById('problem-form').appendChild(successMsg);
            
            // Reset form
            event.target.reset();
            
            // Hide form after 3 seconds
            setTimeout(() => {
                document.getElementById('problem-form').style.display = 'none';
                successMsg.remove();
                showCompanyDashboard();
            }, 3000);
        });

        // Modal functions
        function openIdeaModal(problemId) {
            const problem = problems.find(p => p.id === problemId);
            if (!problem) return;
            
            currentProblemId = problemId;
            document.getElementById('idea-modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('idea-modal').classList.remove('active');
            document.getElementById('idea-form').reset();
        }

        function viewSubmittedIdeas(problemId) {
            const problem = problems.find(p => p.id === problemId);
            if (problem && problem.ideas.length > 0) {
                let ideasHtml = '<div style="max-height: 70vh; overflow-y: auto;">';
                problem.ideas.forEach(idea => {
                    ideasHtml += `
                        <div style="border: 1px solid var(--border-color); border-radius: var(--border-radius-md); padding: 1.5rem; margin-bottom: 1rem; background: rgba(30, 41, 59, 0.5);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                <div>
                                    <h4 style="font-weight: 600; color: var(--text-primary);">${idea.studentName}</h4>
                                    <p style="color: var(--text-secondary);">${idea.university}</p>
                                </div>
                                <div style="text-align: right; color: var(--text-secondary);">
                                    <div>${idea.submittedAt || 'Just now'}</div>
                                </div>
                            </div>
                            <div style="background: rgba(99, 102, 241, 0.1); padding: 1rem; border-radius: var(--border-radius-sm); margin-bottom: 1rem;">
                                <h5 style="color: var(--text-primary); margin-bottom: 0.5rem;"><i class="fas fa-lightbulb"></i> Idea:</h5>
                                <p style="color: var(--text-secondary); line-height: 1.5;">${idea.idea}</p>
                            </div>
                            <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: var(--border-radius-sm);">
                                <h5 style="color: var(--text-primary); margin-bottom: 0.5rem;"><i class="fas fa-cogs"></i> Implementation:</h5>
                                <p style="color: var(--text-secondary); line-height: 1.5;">${idea.implementation}</p>
                            </div>
                        </div>
                    `;
                });
                ideasHtml += '</div>';
                
                const modal = document.getElementById('idea-modal');
                modal.querySelector('.modal-content').innerHTML = `
                    <div class="modal-header">
                        <h2>Solutions for: ${problem.title}</h2>
                        <button class="close-btn" onclick="closeModal()">&times;</button>
                    </div>
                    <div class="modal-body">
                        ${ideasHtml}
                    </div>
                `;
                modal.classList.add('active');
            } else {
                alert('No solutions have been submitted for this problem yet.');
            }
        }

        // Idea submission
        document.getElementById('idea-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const idea = {
                studentName: document.getElementById('student-name').value,
                university: document.getElementById('student-university').value,
                idea: document.getElementById('student-idea').value,
                implementation: document.getElementById('implementation-approach').value,
                submittedAt: new Date().toLocaleString()
            };
            
            const problem = problems.find(p => p.id === currentProblemId);
            if (problem) {
                problem.ideas.push(idea);
                
                // Update leaderboard
                const existingStudent = leaderboardData.find(s => s.name === idea.studentName);
                if (!existingStudent) {
                    leaderboardData.push({
                        name: idea.studentName,
                        university: idea.university,
                        branch: problem.branch,
                        score: 0, // Will be updated after quiz
                        problemsSolved: 1
                    });
                } else {
                    existingStudent.problemsSolved += 1;
                }
                
                alert('🎉 Your idea has been submitted successfully! The company will review it and may contact you.');
                closeModal();
                event.target.reset();
                showLeaderboard('all');
                loadProblems(); // Refresh feed to show updated idea count
                
                // Show quiz after successful submission
                openQuiz(currentProblemId);
            }
        });

        // Quiz functions
        function openQuiz(problemId) {
            const problem = problems.find(p => p.id === problemId);
            if (!problem) return;
            
            currentProblemId = problemId;
            currentQuiz = quizzes[problem.branch] || [];
            
            if (currentQuiz.length === 0) {
                alert('No quiz available for this problem.');
                return;
            }
            
            currentQuestionIndex = 0;
            quizScore = 0;
            selectedOptionIndex = null;
            
            document.getElementById('quiz-result').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            document.getElementById('prev-btn').style.display = 'none';
            document.getElementById('next-btn').textContent = 'Next';
            document.getElementById('next-btn').innerHTML = 'Next <i class="fas fa-arrow-right"></i>';
            
            loadQuestion();
            document.getElementById('quiz-modal').classList.add('active');
        }

        function loadQuestion() {
            if (currentQuestionIndex < 0 || currentQuestionIndex >= currentQuiz.length) return;
            
            const question = currentQuiz[currentQuestionIndex];
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = question.options.map((option, index) => `
                <button class="option-btn" onclick="selectOption(${index})">
                    ${String.fromCharCode(65 + index)}. ${option}
                </button>
            `).join('');
            
            // Update progress bar
            const progressPercent = ((currentQuestionIndex + 1) / currentQuiz.length) * 100;
            document.getElementById('quiz-progress').style.width = `${progressPercent}%`;
            
            // Reset selected option
            selectedOptionIndex = null;
            
            // Update button states
            document.getElementById('prev-btn').style.display = currentQuestionIndex > 0 ? 'block' : 'none';
            document.getElementById('next-btn').textContent = currentQuestionIndex === currentQuiz.length - 1 ? 'Finish' : 'Next';
            document.getElementById('next-btn').innerHTML = currentQuestionIndex === currentQuiz.length - 1 ? 
                'Finish <i class="fas fa-check"></i>' : 
                'Next <i class="fas fa-arrow-right"></i>';
        }

        function selectOption(index) {
            selectedOptionIndex = index;
            
            // Update UI for selected option
            const optionButtons = document.querySelectorAll('.option-btn');
            optionButtons.forEach((btn, i) => {
                if (i === index) {
                    btn.classList.add('selected');
                } else {
                    btn.classList.remove('selected');
                }
            });
        }

        function checkAnswer() {
            if (selectedOptionIndex === null) {
                alert('Please select an answer!');
                return;
            }
            
            const currentQuestion = currentQuiz[currentQuestionIndex];
            if (selectedOptionIndex === currentQuestion.correct) {
                quizScore++;
            }
            
            if (currentQuestionIndex === currentQuiz.length - 1) {
                showQuizResult();
            } else {
                nextQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function showQuizResult() {
            const percentage = Math.round((quizScore / currentQuiz.length) * 100);
            const passed = percentage >= 70;
            
            document.getElementById('quiz-progress').style.width = '100%';
            document.getElementById('score-display').textContent = `${percentage}%`;
            
            if (passed) {
                document.getElementById('result-message').textContent = 'Congratulations!';
                document.getElementById('result-details').textContent = 
                    `You answered ${quizScore} out of ${currentQuiz.length} questions correctly. Great job!`;
            } else {
                document.getElementById('result-message').textContent = 'Keep Learning!';
                document.getElementById('result-details').textContent = 
                    `You answered ${quizScore} out of ${currentQuiz.length} questions correctly. Review the material and try again.`;
            }
            
            // Update leaderboard with quiz score
            const problem = problems.find(p => p.id === currentProblemId);
            if (problem) {
                const studentName = document.getElementById('student-name').value;
                const existingStudent = leaderboardData.find(s => s.name === studentName);
                if (existingStudent) {
                    existingStudent.score = Math.max(existingStudent.score, percentage);
                }
            }
            
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('quiz-result').style.display = 'block';
        }

        function closeQuiz() {
            document.getElementById('quiz-modal').classList.remove('active');
            showLeaderboard('all');
        }

        // Add sample ideas
        function addSampleIdeas() {
            problems[0].ideas.push({
                studentName: "Sarah Chen",
                university: "Stanford University",
                idea: "Implement a hybrid AI system combining rule-based logic with machine learning for better context understanding.",
                implementation: "Use Natural Language Processing with sentiment analysis and create a feedback loop system.",
                submittedAt: "2025-07-19 14:30"
            });
        }

        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('idea-modal');
            const quizModal = document.getElementById('quiz-modal');
            
            if (event.target === modal) {
                closeModal();
            }
            
            if (event.target === quizModal) {
                closeQuiz();
            }
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
                closeQuiz();
            }
        });
    </script>
</body>
</html>